
<mat-icon class="closeModal" mat-dialog-close>close</mat-icon>
<div class="modal-box">
  <div fxLayout="row" class="">
    <div fxFlex="100">
      <span class="card-title">Edit Employee</span></div>
  </div>
  <mat-dialog-content class="mat-typography">
<form name="registerForm" (ngSubmit)="editEmployee()" #registerForm="ngForm">

    <div fxLayout="row" fxflexfill fxLayoutGap="10px grid" class="">
      <div fxFlex="50">
        <mat-form-field class="form-fields">
          <input matInput  type="text" #first_name  name="first_name" [(ngModel)]="formData.first_name" placeholder="First name" required autocomplete="off"  />
        </mat-form-field>
        <div *ngIf="first_name.errors && first_name.touched">
          <span class="error" *ngIf="first_name.errors?.required">First name is mandatory.</span>
        </div>
      </div>
      <div fxFlex="50">
        <mat-form-field class="form-fields">
          <input matInput  type="text" #last_name  name="last_name" [(ngModel)]="formData.last_name" placeholder="Last name" required autocomplete="off"  />
        </mat-form-field>
        <div *ngIf="last_name.errors && last_name.touched">
          <span class="error" *ngIf="last_name.errors?.required">Last name is mandatory.</span>
        </div>
      </div>
    </div>
    <div fxLayout="row" fxflexfill fxLayoutGap="10px grid" class="">
      <div fxFlex="50">
        <mat-form-field class="form-fields">
          <input matInput  type="email" #email  name="email" [(ngModel)]="formData.email" disabled placeholder="Email" required autocomplete="off"  />
        </mat-form-field>
        <div *ngIf="email.errors && email.touched">
          <span class="error" *ngIf="email.errors?.required">Email is mandatory.</span>
        </div>
      </div>
    </div>
    <div fxLayout="row"  fxflexfill fxLayoutGap="10px grid" class="">
      <div fxFlex="50">
        <mat-form-field class="form-fields">
          <mat-select [(ngModel)]="formData.department" name="department" #role required placeholder="Departement">
            <mat-option *ngFor="let d of departmentData" [value]="d.department_Type">{{d.department_Type}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div fxFlex="50">
        <mat-form-field class="form-fields">
          <mat-select [(ngModel)]="formData.role" name="role" #role required placeholder="Designation">
            <mat-option *ngFor="let roled of roleData" [value]="roled.userRole_id">{{roled.role_Type}}</mat-option>
          </mat-select></mat-form-field>
      </div>
    </div>
    <div fxLayout="row"  fxflexfill fxLayoutGap="10px grid" class="">
      <div fxFlex="50">
        <mat-form-field class="form-fields">
          <input matInput placeholder="Employee Joining Date" [matDatepicker]="picker" format="DD/MM/YYYY"  #employee_joiningDate  name="employee_joiningDate" [(ngModel)]="formData.employee_joiningDate"  required autocomplete="off"  />
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
      </div>
    </div>
    <div fxLayout="row"  fxflexfill fxLayoutGap="10px grid" class="">
      <div fxFlex="50">
        <mat-form-field class="form-fields">
          <input matInput  type="text" #reporting_Manager  name="reporting_Manager" [(ngModel)]="formData.reporting_Manager" placeholder="Reporting Manager" required autocomplete="off"  />
        </mat-form-field>
      </div>
      <div fxFlex="50">
        <mat-form-field class="form-fields">
          <input matInput  type="text" #insurance_plan_name  name="insurance_plan_name" [(ngModel)]="formData.insurance_plan_name" placeholder="Insurance Plan Name" required autocomplete="off"  />
        </mat-form-field>
      </div>
    </div>
    <div fxLayout="row"  fxflexfill fxLayoutGap="10px grid" class="">
      <div fxFlex="100">
        <h3 class="title">Salary</h3>
      </div>
    </div>
    <div fxLayout="column"  fxflexfill fxLayoutGap="10px grid" class="">
      <div fxFlex="50" *ngFor="let s of salaryData;let i = index;">
        <mat-form-field class="form-fields">
          <input matInput  type="text" #salary  name="salary{{i}}" [(ngModel)]="formData.salaryBalance[i][s.salary_Type]" [placeholder]="s.salary_Type + '(ex. 1000)'" required autocomplete="off"  />
        </mat-form-field>
      </div>
    </div>
    <div fxLayout="row"  fxflexfill fxLayoutGap="10px grid" class="">
      <div fxFlex="100">
        <h3 class="title">Leave</h3>
      </div>
    </div>
    <div fxLayout="column"  fxflexfill fxLayoutGap="10px grid" class="">
      <div fxFlex="50" *ngFor="let l of leaveData;let i = index">
        <mat-form-field class="form-fields">
          <input matInput  type="text" #leaves  name="leaves{{i}}" [(ngModel)]="formData.leaveBalance[i][l.leave_Type]" [placeholder]="l.leave_Type + '(ex. 1)'" required autocomplete="off"  />
        </mat-form-field>
      </div>
    </div>
    <div fxLayout="row"  fxflexfill fxLayoutGap="10px grid" class="">
      <div fxFlex="100">
        <h3 class="title">Working Hours</h3>
      </div>
    </div>
    <div fxLayout="row"  fxflexfill fxLayoutGap="10px grid" class="">
      <div fxFlex="50">
        <mat-form-field class="form-fields">
          <input matInput  type="time" #working_HoursFrom  name="working_HoursFrom" [(ngModel)]="formData.working_HoursFrom" placeholder="Working Hours From" required autocomplete="off"  />
        </mat-form-field>
      </div>
      <div fxFlex="50">
        <mat-form-field class="form-fields">
          <input matInput  type="time" #working_HoursTo  name="working_HoursTo" [(ngModel)]="formData.working_HoursTo" placeholder="Working Hours To" required autocomplete="off"  />
        </mat-form-field>
      </div>
    </div>
    <div fxLayout="row" class="" >
      <div fxFlex="100">
        <mat-label></mat-label>
        <button mat-raised-button class="big-btn block-btn"  [disabled]="!registerForm.valid"  color="primary">Edit Employee</button>
      </div>
    </div>
  </form>
</mat-dialog-content>
</div>
