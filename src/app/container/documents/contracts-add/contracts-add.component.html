
<mat-icon class="closeModal" mat-dialog-close>close</mat-icon>
<div class="modal-box">
  <div fxLayout="row" class="">
    <div fxFlex="100">
      <span class="card-title">Upload Documents</span></div>
  </div>
  <mat-dialog-content class="mat-typography">
<form name="registerForm" (ngSubmit)="addDoc()" #registerForm="ngForm">

    <div fxLayout="row" class="">
      <div fxFlex="100">
        <mat-form-field class="form-fields" >
          <mat-select [(ngModel)]="formData.userId" name="userId" #userId required placeholder="Employee">
            <mat-option *ngFor="let roled of roleData" [value]="roled.user_id">{{roled.name}}</mat-option>
          </mat-select></mat-form-field>
      </div>
    </div>
    <div fxLayout="row" class="">
      <div fxFlex="100">
        <mat-form-field class="form-fields" >
          <input matInput placeholder="Document Title" type="text" #document_Title maxlength="40"  name="document_Title" [(ngModel)]="formData.document_Title"  required autocomplete="off"  />
        </mat-form-field>
        <div *ngIf="document_Title.errors && document_Title.touched">
          <span class="error" *ngIf="document_Title.errors?.required">Document Title is mandatory.</span>
        </div>
      </div>
    </div>
    <div fxLayout="row"  class="">
      <div fxFlex="100">
        <mat-form-field class="form-fields" >
          <mat-select [(ngModel)]="formData.file_Type" name="file_Type" #file_Type required placeholder="Document Format">
            <mat-option  value="png">Png</mat-option>
            <mat-option  value="jpeg">Jpeg</mat-option>
            <mat-option  value="pdf">Pdf</mat-option>
            <mat-option  value="doc">Doc</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>

    <div fxLayout="row"  class="">
      <div fxFlex="100">
        <mat-form-field class="form-fields" >
          <mat-select [(ngModel)]="formData.DocType" name="DocType" #file_Type required placeholder="Document Type">
            <mat-option *ngFor="let d of docData" [value]="d.documentType_id">{{d.document_Type}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
    <div fxLayout="row"  class="">
      <div fxFlex="100">
        <mat-form-field class="form-fields" >
          <input matInput placeholder="Expiry Date" [matDatepicker]="picker" [min]="currentDate" #expiry_Date  name="expiry_Date" [(ngModel)]="formData.expiry_Date"  required autocomplete="off"  />
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
    </div>
    <div fxLayout="row"  class="">
      <div fxFlex="100">
        <mat-label></mat-label>
        <div class="dropzone">
          <ngx-dropzone (change)="onSelect($event)">
            <ngx-dropzone-label><mat-icon>note_add</mat-icon><br />
              Upload Your Document<br />
              <small>drag & drop to upload the document</small>
            </ngx-dropzone-label>
            <ngx-dropzone-preview *ngFor="let f of files" [removable]="true" (removed)="onRemove(f)">
                <ngx-dropzone-label [style]="'background:'+formData.file_Path">{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
            </ngx-dropzone-preview>
          </ngx-dropzone>
        </div>
      </div>
    </div>

    <div fxLayout="row" class="" >
      <div fxFlex="100">
        <mat-label></mat-label>
        <button mat-raised-button class="big-btn block-btn"  [disabled]="!registerForm.valid"  color="primary">Add Document</button>
      </div>
    </div>
  </form>
</mat-dialog-content>
</div>
